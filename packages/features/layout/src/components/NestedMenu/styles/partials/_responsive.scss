// ============================================================================ //
// NESTED MENU - RESPONSIVE
// ============================================================================ //

@use '../../../../../../../shared/tokens/styles/scss/abstracts' as *;

.nested-menu {
    @include bp-down(s) {
        padding: var(--scale-0);
        border-radius: 0 0 var(--border-radius-2xl) var(--border-radius-2xl);
        max-width: 100%;
        overflow-x: hidden;

        &__content {
            padding: var(--scale-2);
            max-width: 100%;
            overflow-x: hidden;
        }

        &__section-header,
        &__category-header,
        &__item {
            max-width: 100%;
            box-sizing: border-box;
        }

        &__section--with-search {
            display: grid;
            grid-template-columns: auto 1fr;
            grid-template-rows: auto auto;
            align-items: center;
            gap: var(--scale-1) var(--scale-2);
            max-width: 100%;

            .nested-menu__search-toggle {
                grid-column: 1;
                grid-row: 1;
            }

            .nested-menu__section-header {
                grid-column: 2;
                grid-row: 1;
            }

            .nested-menu__categories {
                grid-column: 1 / -1;
                grid-row: 2;
                padding-left: var(--scale-2);
                max-width: 100%;
            }
        }

        &__search-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
            width: var(--scale-10);
            height: var(--scale-10);
            padding: 0;
            background: transparent;
            border: none;
            border-radius: 50%;
            color: var(--color-text-muted);
            cursor: pointer;
            transition: background-color var(--duration-fast) var(--easing-standard);
            flex-shrink: 0;

            &:hover {
                background: var(--color-surface-hover);
                color: var(--color-text-default);
            }
        }

        &__search--mobile-expanded {
            display: flex;
            align-items: center;
            gap: var(--scale-2);
            padding: var(--scale-2);
            background: var(--color-surface-subtle);
            border-radius: var(--border-radius-l);
            margin-bottom: var(--scale-2);
            max-width: 100%;
        }
    }
}
