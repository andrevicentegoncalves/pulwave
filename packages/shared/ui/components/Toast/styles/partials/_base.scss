@use '@pulwave/tokens/styles/scss/abstracts' as *;

// ==========================================================================
// TOAST COMPONENT - BEM STYLES
// ==========================================================================

.toast-container {
    position: fixed;
    z-index: var(--z-index-toast, 1060); // Ensure high z-index
    display: flex;
    flex-direction: column;
    gap: var(--scale-2);
    pointer-events: none; // Allow clicks through container
    max-width: 100%;
    width: auto;

    // Positioning Variants with safe-area support
    &--top-left {
        top: calc(var(--scale-4) + env(safe-area-inset-top, 0px));
        left: calc(var(--scale-4) + env(safe-area-inset-left, 0px));
    }

    &--top-right {
        top: calc(var(--scale-4) + env(safe-area-inset-top, 0px));
        right: calc(var(--scale-4) + env(safe-area-inset-right, 0px));
    }

    &--bottom-left {
        bottom: calc(var(--scale-4) + env(safe-area-inset-bottom, 0px));
        left: calc(var(--scale-4) + env(safe-area-inset-left, 0px));
    }

    &--bottom-right {
        bottom: calc(var(--scale-4) + env(safe-area-inset-bottom, 0px));
        right: calc(var(--scale-4) + env(safe-area-inset-right, 0px));
    }

    &--top-center {
        top: calc(var(--scale-4) + env(safe-area-inset-top, 0px));
        left: 50%;
        transform: translateX(-50%);
        width: auto;
    }

    &--bottom-center {
        bottom: calc(var(--scale-4) + env(safe-area-inset-bottom, 0px));
        left: 50%;
        transform: translateX(-50%);
        width: auto;
    }
}

.toast {
    pointer-events: auto; // Re-enable pointer events on toasts
    animation: toast-slide-in var(--duration-comfortable) var(--ease-out);
    min-width: var(--scale-75); // 300px
    max-width: var(--scale-100); // 400px
}

@keyframes toast-slide-in {
    from {
        opacity: 0;
        transform: translateY(100%);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

// Accessibility: Respect user's motion preferences
@media (prefers-reduced-motion: reduce) {
    .toast {
        animation: none;
    }
}