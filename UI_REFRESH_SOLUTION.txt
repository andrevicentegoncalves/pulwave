// SOLUTION: The Accept button IS working and saving to database!
// The issue is the UI doesn't refresh to show the new values.

// QUICK TEST: After clicking Accept, refresh the page (F5)
// You should see the accepted version and date appear!

// PROPER FIX: Add this to PrivacySection.jsx after line 99 (after database save):

// Inside handleAcceptTerms, after the database save (after line 95):
// Add this to refresh the formData:
if (user) {
    const result = await supabase
        .from('profiles')
        .update({
            terms_accepted_version: termsData.version,
            terms_accepted_at: acceptedAt,
            updated_at: new Date().toISOString()
        })
        .eq('auth_user_id', user.id);
    
    // ADD THIS: Fetch updated profile to refresh UI
    const { data: updatedProfile } = await supabase
        .from('profiles')
        .select('terms_accepted_version, terms_accepted_at')
        .eq('auth_user_id', user.id)
        .single();
    
    if (updatedProfile) {
        onChange({
            target: {
                name: 'terms_accepted_version',
                value: updatedProfile.terms_accepted_version
            }
        });
        onChange({
            target: {
                name: 'terms_accepted_at',
                value: updatedProfile.terms_accepted_at
            }
        });
    }
}

// Do the same for handleAcceptPrivacy!

// OR SIMPLER: Just refresh the page after accepting:
window.location.reload();
