@use 'sass:map';
@use '../../variables/foundation/focus-scale' as scale;

// ========================================================================== //
//                      FUNCTIONS: FOUNDATION - FOCUS                         //
// ========================================================================== //

/// Get focus ring configuration property
/// @param {String} $property - Property name
/// @return {*} Property value
@function focus-ring($property) {
  @if map.has-key(scale.$focus-ring-config, $property) {
    @return map.get(scale.$focus-ring-config, $property);
  }
  @error "Focus ring property '#{$property}' not found";
}

/// Get focus indicator configuration
/// @param {String} $indicator - Indicator type
/// @return {Map} Indicator configuration
@function focus-indicator($indicator) {
  @if map.has-key(scale.$focus-indicators, $indicator) {
    @return map.get(scale.$focus-indicators, $indicator);
  }
  @error "Focus indicator '#{$indicator}' not found";
}

/// Get component-specific focus preset
/// @param {String} $component - Component name
/// @return {Map} Focus configuration
@function focus-component($component) {
  @if map.has-key(scale.$focus-component-presets, $component) {
    @return map.get(scale.$focus-component-presets, $component);
  }
  @error "Focus preset for component '#{$component}' not found";
}

/// Generate focus ring box-shadow
/// @param {Color} $color - Focus ring color
/// @param {String} $size - 'normal' or 'bold'
/// @return {String} Box-shadow value
@function focus-ring-shadow($color, $size: 'normal') {
  $width: if($size == 'bold', focus-ring('width-bold'), focus-ring('width'));
  $offset: focus-ring('offset');
  
  @return 0 0 0 $offset transparent, 0 0 0 calc(#{$offset} + #{$width}) $color;
}