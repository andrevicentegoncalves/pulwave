@use 'sass:map';
@use 'sass:string';

@mixin generate-semantic-tokens($type, $map) {
    /* ========================================================================== */
    /*                  TOKENS: TYPOGRAPHY PRESET - #{string.to-upper-case($type)} */
    /* ========================================================================== */
  
    @each $size, $props in $map {
      /* --- #{$type}-#{$size} --- */
      --font-size-#{$type}-#{$size}: #{map.get($props, 'size-desktop')};
      --font-size-#{$type}-#{$size}-phone: #{map.get($props, 'size-phone')};
      --line-height-#{$type}-#{$size}: #{map.get($props, 'line-height')};
      --letter-spacing-#{$type}-#{$size}: #{map.get($props, 'letter-spacing')};
  
      @each $weight in ('light', 'regular', 'medium', 'semi-bold', 'bold') {
        $weight-key: 'weight-#{$weight}';
        @if map.has-key($props, $weight-key) {
          --font-weight-#{$type}-#{$size}-#{$weight}: #{map.get($props, $weight-key)};
        }
      }
  
      @if map.has-key($props, 'text-transform') {
        --text-transform-#{$type}-#{$size}: #{map.get($props, 'text-transform')};
      }
    }
  }

/// Responsive typography mixin
/// @param {String} $category - Typography category
/// @param {String} $size - Size key
/// @param {String} $weight - Weight variant (bold, medium)
@mixin typography-responsive($category, $size, $weight: 'bold') {
    // Desktop (default)
    font-size: units.rem(typography($category, $size, 'size-desktop'));
    line-height: typography($category, $size, 'line-height');
    letter-spacing: typography($category, $size, 'letter-spacing');
    font-weight: typography($category, $size, 'weight-#{$weight}');
    
    // Phone (responsive)
    @media (max-width: 768px) {
      font-size: units.rem(typography($category, $size, 'size-phone'));
    }
  }