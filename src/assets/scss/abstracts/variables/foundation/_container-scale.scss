@use 'sass:map';
@use 'core' as *;

// ========================================================================== //
//                       FOUNDATION: CONTAINER SCALE                          //
// ========================================================================== //
// Unified container system aligned with breakpoint naming (xs/s/m/l/xl/2xl)
// All containers based on the unified scale for mathematical consistency
// ========================================================================== //

// -------------------------------------------
// CONTAINER WIDTH SCALE
// -------------------------------------------

$container-scale: (
  // Breakpoint-aligned containers (matches breakpoint system)
  's': map.get($scale, 160),    // 640px  - Small devices
  'm': map.get($scale, 192),    // 768px  - Tablets
  'l': map.get($scale, 256),    // 1024px - Laptops
  'xl': map.get($scale, 320),   // 1280px - Desktops
  '2xl': map.get($scale, 480),  // 1920px - Ultra-wide
  
  // Semantic containers
  'prose': 65ch,                 // 65ch - Optimal reading width
  'narrow': map.get($scale, 120), // 480px - Forms/modals
  'wide': map.get($scale, 360),   // 1440px - Wide layouts
  
  // Special
  'full': 100%,
  'screen': 100vw,
) !default;

// -------------------------------------------
// CONTAINER PADDING SCALE
// -------------------------------------------

$container-padding-scale: (
  'xs': map.get($scale, 4),   // 16px
  's': map.get($scale, 6),    // 24px
  'm': map.get($scale, 8),    // 32px
  'l': map.get($scale, 12),   // 48px
  'xl': map.get($scale, 16),  // 64px
) !default;

// -------------------------------------------
// CONTAINER ALIASES
// -------------------------------------------

$container-s: map.get($container-scale, 's') !default;
$container-m: map.get($container-scale, 'm') !default;
$container-l: map.get($container-scale, 'l') !default;
$container-xl: map.get($container-scale, 'xl') !default;
$container-2xl: map.get($container-scale, '2xl') !default;

$container-prose: map.get($container-scale, 'prose') !default;
$container-narrow: map.get($container-scale, 'narrow') !default;
$container-wide: map.get($container-scale, 'wide') !default;
$container-full: map.get($container-scale, 'full') !default;

// -------------------------------------------
// CONTAINER PRESETS
// -------------------------------------------

$container-presets: (
  'page': (
    'max-width': $container-xl,
    'padding-x': map.get($container-padding-scale, 'm'),
    'padding-y': map.get($container-padding-scale, 'l'),
    'margin-x': auto,
  ),
  
  'article': (
    'max-width': $container-s,
    'padding-x': map.get($container-padding-scale, 's'),
    'padding-y': map.get($container-padding-scale, 'm'),
    'margin-x': auto,
  ),
  
  'section': (
    'max-width': $container-2xl,
    'padding-x': map.get($container-padding-scale, 'm'),
    'padding-y': map.get($container-padding-scale, 'xl'),
    'margin-x': auto,
  ),
  
  'narrow': (
    'max-width': $container-narrow,
    'padding-x': map.get($container-padding-scale, 's'),
    'padding-y': map.get($container-padding-scale, 's'),
    'margin-x': auto,
  ),
) !default;
