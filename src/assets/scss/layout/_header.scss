@use '../abstracts' as *;

// ============================================================================ //
//                           HEADER COMPONENT STYLES                            //
// ============================================================================ //
// Mobile-only navigation header with menu toggle and user actions

.mobile-header {
  display: none; // Hidden on desktop
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--spacing-15);
  padding: 0 var(--spacing-6); // 24px horizontal
  background-color: var(--color-surface-default);
  z-index: 1001; // Above overlay
  align-items: center;
  justify-content: space-between;
  box-shadow: var(--shadow-s);
  border-bottom: var(--border-width-s) solid var(--color-border-subtle);
  box-sizing: border-box;

  // Strict overflow control
  overflow: hidden;
  max-width: 100vw;
}

// ---------------------------------------------------------------------------//
// LEFT SIDE - SIDEBAR TOGGLE
// ---------------------------------------------------------------------------//

.mobile-header__left {
  display: flex;
  align-items: center;
  flex: 0 0 auto;

  // Override SidebarToggle styles for mobile context
  .sidebar-header {
    margin-bottom: 0;
    min-height: auto;

    .toggle-btn {
      display: flex !important; // Force visible on mobile
      padding: var(--spacing-2);
      color: var(--color-on-surface-default);

      svg {
        width: var(--scale-6);
        height: var(--scale-6);
      }

      &:hover {
        background-color: var(--color-surface-hover);
      }
    }
  }
}

// ---------------------------------------------------------------------------//
// RIGHT SIDE - USER INFO
// ---------------------------------------------------------------------------//

.mobile-header__right {
  display: flex;
  align-items: center;
  flex: 0 0 auto; // Don't grow
  min-width: 0; // Allow shrinking if needed
  max-width: 100%;
}

// UserInfo specific overrides for mobile header
.mobile-header-userinfo {
  background-color: transparent !important;
  padding: 0 !important;
  width: auto !important;
  max-width: fit-content !important;
  flex: 0 0 auto !important;

  .user-info__avatar {
    border: var(--border-width-2) solid var(--color-border-subtle);
  }

  .user-info__logout {
    background: transparent;
    color: var(--color-on-surface-default);

    svg {
      color: var(--color-on-surface-default);
    }

    &:hover {
      background: var(--color-surface-hover);
      color: var(--color-error);

      svg {
        color: var(--color-error);
      }
    }

    &:active {
      background: var(--color-surface-pressed);
    }
  }

  &:hover {
    background-color: transparent !important;
  }
}

// ---------------------------------------------------------------------------//
// MOBILE RESPONSIVE - SHOW ON MOBILE ONLY
// ---------------------------------------------------------------------------//

@include bp-down(s) {
  .mobile-header {
    display: flex;
  }

  // Add padding to main content to account for fixed header
  body {
    padding-top: var(--spacing-15);
  }
}

// ---------------------------------------------------------------------------//
// PRINT STYLES
// ---------------------------------------------------------------------------//

@media print {
  .mobile-header {
    display: none;
  }
}