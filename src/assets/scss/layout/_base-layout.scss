@use '../abstracts' as *;

// ============================================================================ //
//                           BASE LAYOUT STYLES                                 //
// ============================================================================ //
// Main application layout wrapper for all authenticated pages.
// Provides consistent structure with sidebar and content area.

.base-layout {
    display: flex;
    min-height: 100vh;
    background: var(--color-background-default);
}

// ---------------------------------------------------------------------------//
// CONTENT AREA
// ---------------------------------------------------------------------------//

.base-layout__content {
    // Layout
    flex: 1;

    // Spacing - adjusted based on sidebar state
    // Collapsed width (80px) + sidebar margin (var(--spacing-5)) + small gap (var(--spacing-4))
    margin-left: calc(80px + var(--spacing-5) + var(--spacing-4));

    // Transition for sidebar expansion
    transition: margin-left var(--duration-comfortable) var(--easing-standard);

    // When sidebar is expanded
    // Expanded width (280px) + sidebar margin (var(--spacing-5)) + small gap (var(--spacing-4))
    &.expanded {
        margin-left: calc(280px + var(--spacing-5) + var(--spacing-4));
    }

    // Tablet: Reduce gap
    @include bp-down(l) {
        // Collapsed width (80px) + sidebar margin (var(--spacing-5)) + smaller gap (var(--spacing-3))
        margin-left: calc(80px + var(--spacing-5) + var(--spacing-3));

        &.expanded {
            // Expanded width (280px) + sidebar margin (var(--spacing-5)) + smaller gap (var(--spacing-3))
            margin-left: calc(280px + var(--spacing-5) + var(--spacing-3));
        }
    }

    // Mobile: no margin (sidebar overlays)
    @include bp-down(s) {
        margin-left: 0 !important;
    }

    // Padding for content
    padding: var(--spacing-8) var(--spacing-6);

    // Allow scrolling if content overflows
    overflow-y: auto;

    // Responsive padding
    @include bp-down(l) {
        padding: var(--spacing-6) var(--spacing-5);
    }

    @include bp-down(xs) {
        padding: var(--spacing-5) var(--spacing-4);
    }
}

// Very small screens
@include bp-down(xs) {
    .base-layout__content {
        padding: var(--spacing-4) var(--spacing-3);
    }
}