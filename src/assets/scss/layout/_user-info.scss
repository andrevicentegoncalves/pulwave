// ============================================================================ //
//                         USER INFO COMPONENT STYLES                           //
// ============================================================================ //
// Flexible user profile component with horizontal and vertical orientations

// ---------------------------------------------------------------------------//
// BASE STYLES
// ---------------------------------------------------------------------------//

.user-info {
  display: flex;
  align-items: center;
  width: 100%;
  padding: var(--space-3); // 12px
  background-color: rgba(255, 255, 255, 0.1); // Subtle background
  border-radius: var(--radius-m); // 16px
  backdrop-filter: blur(10px);
  transition: all var(--duration-comfortable) var(--easing-standard);
  box-sizing: border-box;
  
  // Default gap between elements
  gap: var(--space-3); // 12px
}

// ---------------------------------------------------------------------------//
// AVATAR
// ---------------------------------------------------------------------------//

.user-info__avatar {
  width: 40px;
  height: 40px;
  border-radius: var(--radius-full); // Circle
  object-fit: cover;
  border: var(--border-width-2) solid rgba(255, 255, 255, 0.2);
  flex-shrink: 0;
  cursor: pointer;
  transition: all var(--duration-fast) var(--easing-standard);
  
  &:hover {
    transform: scale(1.05);
    border-color: rgba(255, 255, 255, 0.4);
  }
  
  &:focus-visible {
    outline: var(--focus-width) solid var(--color-on-primary);
    outline-offset: var(--focus-offset);
  }
  
  &:active {
    transform: scale(1.0);
  }
}

// ---------------------------------------------------------------------------//
// NAME & EMAIL DETAILS
// ---------------------------------------------------------------------------//

.user-info__details {
  display: flex;
  flex-direction: column;
  min-width: 0; // Allow text truncation
  flex: 1; // Take available space
  gap: var(--space-1); // 4px between name and email
}

.user-info__name {
  color: var(--color-on-primary); // White text
  font-size: var(--font-size-body-m); // 16px
  font-weight: var(--font-weight-semi-bold); // 600
  line-height: var(--line-height-tight); // 1.25
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.user-info__email {
  color: rgba(255, 255, 255, 0.7); // Subtle white
  font-size: var(--font-size-caption-m); // 12px
  line-height: var(--line-height-tight); // 1.25
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

// ---------------------------------------------------------------------------//
// LOGOUT BUTTON
// ---------------------------------------------------------------------------//

.user-info__logout {
  background: rgba(255, 255, 255, 0.1);
  border: none;
  width: 36px;
  height: 36px;
  border-radius: var(--radius-full); // Circle
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-on-primary); // White
  cursor: pointer;
  transition: all var(--duration-fast) var(--easing-standard);
  flex-shrink: 0;
  
  svg {
    width: var(--icon-size-s); // 20px
    height: var(--icon-size-s);
  }
  
  &:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: scale(1.05);
  }
  
  &:focus-visible {
    outline: var(--focus-width) solid var(--color-on-primary);
    outline-offset: var(--focus-offset);
  }
  
  &:active {
    background: rgba(255, 255, 255, 0.15);
    transform: scale(1.0);
  }
}

// ---------------------------------------------------------------------------//
// ORIENTATION: HORIZONTAL (DEFAULT)
// ---------------------------------------------------------------------------//

.user-info--horizontal {
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
  
  // Full: Avatar + Name + Logout (same line) ✓
  // Avatar + Name (same line) ✓
  // Avatar + Logout (same line) ✓
  // Avatar only ✓
  // Logout only ✓
  // All handled by default flex-direction: row
}

// ---------------------------------------------------------------------------//
// ORIENTATION: VERTICAL
// ---------------------------------------------------------------------------//

.user-info--vertical {
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  gap: var(--space-2); // 8px vertical spacing
  
  // Avatar and details centered
  .user-info__avatar {
    margin-bottom: var(--space-1); // Extra spacing below avatar
  }
  
  // Details centered
  .user-info__details {
    align-items: center;
    text-align: center;
    width: 100%;
  }
  
  // Logout button centered
  .user-info__logout {
    margin-top: var(--space-1); // Extra spacing above logout
  }
  
  // Full: Avatar + Name + Logout (stacked) ✓
  // Avatar + Name (stacked) ✓
  // Avatar + Logout (stacked) ✓
}

// ---------------------------------------------------------------------------//
// RESPONSIVE: COLLAPSED SIDEBAR STATE
// ---------------------------------------------------------------------------//

// When sidebar is collapsed, show minimal version
:global(.sidebar-container.collapsed) {
  .user-info {
    flex-direction: column;
    padding: var(--space-2); // Reduced padding
    gap: var(--space-2); // Smaller gap
    
    // Hide name/email in collapsed state
    .user-info__details {
      display: none;
    }
    
    // Smaller avatar
    .user-info__avatar {
      width: 36px;
      height: 36px;
    }
    
    // Keep logout button visible but smaller
    .user-info__logout {
      width: 32px;
      height: 32px;
      
      svg {
        width: 18px;
        height: 18px;
      }
    }
  }
}

// ---------------------------------------------------------------------------//
// SPECIAL CASES: SINGLE ELEMENT
// ---------------------------------------------------------------------------//

// Avatar only (no name, no logout)
.user-info:has(.user-info__avatar):not(:has(.user-info__details)):not(:has(.user-info__logout)) {
  justify-content: center;
  padding: var(--space-2);
}

// Logout only (no avatar, no name)
.user-info:has(.user-info__logout):not(:has(.user-info__avatar)):not(:has(.user-info__details)) {
  justify-content: center;
  padding: var(--space-2);
}

// Name only (no avatar, no logout)
.user-info:has(.user-info__details):not(:has(.user-info__avatar)):not(:has(.user-info__logout)) {
  justify-content: center;
  padding: var(--space-3) var(--space-4);
}

// ---------------------------------------------------------------------------//
// MOBILE RESPONSIVE
// ---------------------------------------------------------------------------//

@media (max-width: 768px) {
  // Hide user info in sidebar on mobile (shown in mobile header instead)
  .sidebar .user-info {
    display: none;
  }
}

// ---------------------------------------------------------------------------//
// HOVER EFFECTS FOR CONTAINER
// ---------------------------------------------------------------------------//

.user-info:hover {
  background-color: rgba(255, 255, 255, 0.15);
}

// ---------------------------------------------------------------------------//
// ACCESSIBILITY
// ---------------------------------------------------------------------------//

// High contrast mode support
@media (prefers-contrast: high) {
  .user-info {
    border: var(--border-width-1) solid rgba(255, 255, 255, 0.5);
  }
  
  .user-info__avatar {
    border-width: var(--border-width-2);
  }
}

// Reduced motion
@media (prefers-reduced-motion: reduce) {
  .user-info,
  .user-info__avatar,
  .user-info__logout {
    transition: none;
  }
}

// ---------------------------------------------------------------------------//
// PRINT STYLES
// ---------------------------------------------------------------------------//

@media print {
  .user-info {
    display: none;
  }
}