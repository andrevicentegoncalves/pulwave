// src/assets/scss/components/_input.scss

/* ────────────────────── INPUT COMPONENT ────────────────────── */

.input-wrapper {
  display: flex;
  flex-direction: column;
  gap: var(--scale-2);
  width: 100%;
}

// ── LABEL ──
.input__label {
  display: block;
  font-size: var(--font-size-body-s);
  font-weight: var(--font-weight-medium);
  color: #1e293b; // Dark color for visibility
  line-height: var(--line-height-body-m);
  margin-bottom: var(--scale-2);

  &--required {
    .input__required {
      color: #dc2626; // Strong red
      margin-left: var(--scale-1);
    }
  }
}

// ── INPUT CONTAINER ──
.input-container {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;

  // ── ICON POSITIONING ──
  &--has-left-icon {
    .input {
      padding-left: var(--scale-12);
    }
  }

  &--has-right-icon {
    .input {
      padding-right: var(--scale-10);
    }
  }

  // ── STATE: ERROR ──
  &--error {
    .input {
      border-color: #dc2626;
      border-width: 2px;

      &:hover {
        border-color: #b91c1c;
      }

      &:focus {
        border-color: #dc2626;
        box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
      }
    }
  }

  // ── STATE: SUCCESS ──
  &--success {
    .input {
      border-color: #16a34a;
      border-width: 2px;

      &:hover {
        border-color: #15803d;
      }

      &:focus {
        border-color: #16a34a;
        box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.1);
      }
    }
  }

  // ── STATE: DISABLED ──
  &--disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
}

// ── INPUT ELEMENT ──
.input {
  width: 100%;
  padding: var(--scale-3) var(--scale-6);
  font-size: var(--font-size-body-m);
  font-family: var(--font-family-sans);
  line-height: var(--line-height-body-m);
  color: #1e293b; // Dark text
  background-color: #ffffff; // Pure white background
  border: 2px solid #cbd5e1; // Strong visible border (2px instead of 1px)
  border-radius: var(--border-radius-xl);
  transition: all 0.15s ease;
  outline: none;

  // ── SIZE VARIANTS ──
  &--sm {
    padding: var(--scale-2) var(--scale-3);
    font-size: var(--font-size-body-s);
  }

  &--md {
    padding: var(--scale-3) var(--scale-6);
    font-size: var(--font-size-body-m);
  }

  &--lg {
    padding: var(--scale-4) var(--scale-5);
    font-size: var(--font-size-body-l);
  }

  // ── PLACEHOLDER ──
  &::placeholder {
    color: #94a3b8; // Medium gray
    opacity: 1;
  }

  // ── HOVER STATE ──
  &:hover:not(:disabled):not(:focus) {
    border-color: #94a3b8; // Darker on hover
    background-color: #f8fafc; // Slight background change
  }

  // ── FOCUS STATE ──
  &:focus {
    border-color: #3b82f6; // Strong blue border
    background-color: #ffffff;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); // Blue glow
  }

  // ── DISABLED STATE ──
  &:disabled {
    background-color: #f1f5f9;
    color: #94a3b8;
    border-color: #e2e8f0;
    cursor: not-allowed;
    opacity: 1; // Keep full opacity, colors show disabled state
  }

  &--success {
    .input__field {
      border-color: var(--color-feedback-success-500);

      &:focus {
        border-color: var(--color-feedback-success-600);
        box-shadow: 0 0 0 3px var(--color-feedback-success-100);
      }
    }
  }

  &--error {
    .input__field {
      border-color: var(--color-feedback-danger-500);

      &:focus {
        border-color: var(--color-feedback-danger-600);
        box-shadow: 0 0 0 3px var(--color-feedback-danger-100);
      }
    }

    .input__error {
      color: var(--color-feedback-danger-600);
    }
  }

  &--warning {
    .input__field {
      border-color: var(--color-feedback-warning-500);

      &:focus {
        border-color: var(--color-feedback-warning-600);
        box-shadow: 0 0 0 3px var(--color-feedback-warning-100);
      }
    }
  }

  // ── READ-ONLY STATE ──
  &:read-only {
    border-color: #cbd5e1;
    cursor: default;
  }
}

// ── ICONS ──
.input__icon {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--icon-size-m);
  height: var(--icon-size-m);
  color: #64748b;
  pointer-events: none;

  &--left {
    left: var(--scale-4);
  }

  &--right {
    right: var(--scale-3);
  }
}

// ── HELPER TEXT ──
.input__helper {
  font-size: var(--font-size-caption-m);
  line-height: var(--line-height-caption);
  color: #64748b;
  display: flex;
  align-items: flex-start;
  gap: var(--scale-1);

  // ── ERROR STATE ──
  &--error {
    color: #dc2626;
    font-weight: var(--font-weight-medium);
  }

  // ── SUCCESS STATE ──
  &--success {
    color: #16a34a;
    font-weight: var(--font-weight-medium);
  }
}

// ── TEXTAREA SPECIFIC STYLES ──
textarea.input {
  min-height: 100px;
  resize: vertical;
  padding: var(--scale-3) var(--scale-6);
  line-height: var(--line-height-body-m);
}