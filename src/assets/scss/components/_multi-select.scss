@use '../abstracts/mixins/foundation/typography' as typography;
@use '../abstracts' as *;

// ============================================================================ //
//                       MULTI-SELECT DROPDOWN COMPONENT                        //
// ============================================================================ //
// Uses the Dropdown component, these styles are for the content inside

.multi-select-dropdown {
    min-width: 300px;
}

// Search Container
.multi-select-dropdown__search {
    padding: var(--spacing-2);
    border-bottom: var(--border-width-1) solid var(--color-border-default);

    // Compact input styling for search
    .input.input--md {
        padding: var(--scale-1) var(--scale-6);

        // Account for left icon
        &.input--has-left-icon {
            padding-left: var(--scale-10);
        }
    }
}

// Footer action buttons
.multi-select-dropdown__footer-actions .btn {
    height: var(--spacing-8);
}

.multi-select-dropdown__clear {
    background: none;
    border: none;
    padding: var(--spacing-1);
    cursor: pointer;
    color: var(--color-on-surface-subtle);
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--border-radius-s);

    &:hover {
        color: var(--color-on-surface-default);
        background: var(--color-surface-hover);
    }
}

// Options List
.multi-select-dropdown__list {
    overflow-y: auto;
    overflow-x: hidden;

    // Custom scrollbar
    &::-webkit-scrollbar {
        width: 6px;
    }

    &::-webkit-scrollbar-track {
        background: transparent;
    }

    &::-webkit-scrollbar-thumb {
        background: var(--color-border-default);
        border-radius: var(--border-radius-s);

        &:hover {
            background: var(--color-border-hover);
        }
    }
}

// Item (matches dropdown__item styling)
.multi-select-dropdown__item {
    width: 100%;
    display: flex;
    align-items: center;
    gap: var(--spacing-3);
    padding: var(--spacing-2) var(--spacing-3);
    background: none;
    border: none;
    border-radius: var(--border-radius-s);
    @include typography.typography-responsive('body', 's', 'regular');
    color: var(--color-on-surface-default);
    text-align: left;
    cursor: pointer;
    transition: all var(--duration-fast) var(--easing-standard);
    user-select: none;

    &:hover {
        background: var(--color-neutral-200);
    }

    &--selected {
        background: var(--color-primary-1);

        &:hover {
            background: var(--color-primary-2);
        }
    }
}

// Round Checkbox (matching existing Checkbox component)
.multi-select-dropdown__checkbox {
    width: var(--scale-5);
    height: var(--scale-5);
    flex-shrink: 0;
    border: var(--border-width-xs) solid var(--color-border-default);
    border-radius: var(--border-radius-round);
    background: var(--color-surface-default);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s ease;
    color: var(--color-neutral-0);

    .multi-select-dropdown__item:hover & {
        border-color: var(--color-border-hover);
    }

    &--checked {
        background: var(--color-primary);
        border-color: var(--color-primary);
    }
}

.multi-select-dropdown__item-label {
    flex: 1;
    line-height: inherit;
}

// Empty State
.multi-select-dropdown__empty {
    padding: var(--spacing-4);
    text-align: center;
    color: var(--color-on-surface-subtle);
    @include typography.typography-responsive('body', 's', 'regular');
}

// Footer with selection count
.multi-select-dropdown__footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--spacing-2) var(--spacing-3);
    border-top: var(--border-width-1) solid var(--color-border-default);
    @include typography.typography-responsive('caption', 'm', 'regular');
    color: var(--color-on-surface-subtle);
}

.multi-select-dropdown__clear-all {
    background: none;
    border: none;
    @include typography.typography-responsive('caption', 'm', 'regular');
    color: var(--color-primary);
    cursor: pointer;
    padding: var(--spacing-1) var(--spacing-2);
    border-radius: var(--border-radius-s);

    &:hover {
        background: var(--color-primary-1);
        text-decoration: underline;
    }
}