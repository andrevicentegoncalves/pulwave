@use '../abstracts' as *;

/* ========================================================================== */
/*                          COMPONENT: CARD GRID                              */
/* ========================================================================== */

.card-grid {
  // Use CSS Grid with auto-fit for responsive behavior
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 280px), 1fr));
  gap: var(--space-6);
  width: 100%;
  
  // Ensure all cards fill available space
  & > * {
    min-width: 0; // Prevent grid blowout
  }
  
  /* Responsive Breakpoints */
  
  // Mobile: 1 column
  @media (max-width: 640px) {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }
  
  // Tablet: 2 columns
  @media (min-width: 641px) and (max-width: 1024px) {
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-5);
  }
  
  // Desktop: 3-4 columns based on container width
  @media (min-width: 1025px) {
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-6);
  }
  
  // Large desktop: Ensure max 4 columns
  @media (min-width: 1440px) {
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  }
}

/* -------------------------------------------------------------------------- */
/*                              VARIANTS                                      */
/* -------------------------------------------------------------------------- */

// 2-column layout variant
.card-grid--2-col {
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 400px), 1fr));
  
  @media (max-width: 640px) {
    grid-template-columns: 1fr;
  }
}

// 3-column layout variant
.card-grid--3-col {
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 300px), 1fr));
  
  @media (max-width: 640px) {
    grid-template-columns: 1fr;
  }
}

// 4-column layout variant
.card-grid--4-col {
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 250px), 1fr));
  
  @media (max-width: 640px) {
    grid-template-columns: 1fr;
  }
  
  @media (min-width: 641px) and (max-width: 1024px) {
    grid-template-columns: repeat(2, 1fr);
  }
}

// Compact gap variant
.card-grid--compact {
  gap: var(--space-4);
  
  @media (max-width: 640px) {
    gap: var(--space-3);
  }
}

// Loose gap variant
.card-grid--loose {
  gap: var(--space-8);
  
  @media (max-width: 640px) {
    gap: var(--space-5);
  }
}

/* -------------------------------------------------------------------------- */
/*                              CARD GRID ITEMS                               */
/* -------------------------------------------------------------------------- */

.card-grid__item {
  // Ensure cards stretch to fill grid cell height
  display: flex;
  
  // Ensure nested cards take full width
  & > * {
    flex: 1;
    min-width: 0;
  }
}

/* -------------------------------------------------------------------------- */
/*                          EMPTY STATE                                       */
/* -------------------------------------------------------------------------- */

.card-grid--empty {
  grid-template-columns: 1fr;
  min-height: 300px;
  place-items: center;
}

.card-grid__empty-state {
  text-align: center;
  padding: var(--space-10);
  color: var(--color-on-surface-subtle);
  
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-4);
  
  max-width: 400px;
}

.card-grid__empty-icon {
  color: var(--color-on-surface-disabled);
  opacity: 0.5;
}

.card-grid__empty-title {
  font-size: var(--font-size-body-l);
  font-weight: var(--font-weight-semi-bold);
  color: var(--color-on-surface-default);
}

.card-grid__empty-description {
  font-size: var(--font-size-body-s);
  line-height: var(--line-height-normal);
}