// src/assets/scss/components/_sidebar.scss

.sidebar {
  // Layout
  position: fixed;
  left: 0;
  top: 0;
  bottom: 0;
  width: var(--scale-20); // 80px
  display: flex;
  flex-direction: column;
  z-index: var(--z-index-fixed);

  // Visual - Gradient background using primary color
  background: linear-gradient(180deg,
      var(--color-primary-500) 0%,
      var(--color-primary-700) 100%);

  // Padding
  padding: var(--space-6) var(--space-4);

  // Smooth transitions
  transition: width var(--duration-comfortable) var(--easing-standard);
}

// Brand/Logo Section
.sidebar__brand {
  width: 100%;
  margin-bottom: var(--space-8);
}

.sidebar__logo {
  width: 48px;
  height: 48px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  background: color-mix(in srgb, var(--color-on-primary), transparent calc(100% - var(--opacity-glass-light) * 100%));
  border-radius: var(--radius-m);
  color: var(--color-on-primary);
  backdrop-filter: #{'blur(var(--blur-m))'};

  svg {
    width: 24px;
    height: 24px;
  }
}

// Navigation
.sidebar__nav {
  flex: 1;
  width: 100%;
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.sidebar__nav-item {
  width: 100%;
}

.sidebar__link {
  // Layout
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: var(--scale-14); // 56px
  border-radius: var(--radius-2xl);

  // Visual
  color: color-mix(in srgb, var(--color-on-primary), transparent calc(100% - var(--opacity-muted) * 100%));
  background: transparent;
  text-decoration: none;

  // Interaction
  cursor: pointer;
  transition: all var(--duration-fast) var(--easing-standard);

  // Hover state
  &:hover {
    background: color-mix(in srgb, var(--color-on-primary), transparent calc(100% - var(--opacity-hover) * 100%));
    color: var(--color-on-primary);
    transform: translateX(2px);
  }

  // src/assets/scss/components/_sidebar.scss

  .sidebar {
    // Layout
    position: fixed;
    left: 0;
    top: 0;
    bottom: 0;
    width: var(--scale-20); // 80px
    display: flex;
    flex-direction: column;
    align-items: center;
    z-index: var(--z-index-fixed);

    // Visual - Gradient background using primary color
    background: linear-gradient(180deg,
        var(--color-primary-500) 0%,
        var(--color-primary-700) 100%);

    // Padding
    padding: var(--space-6) var(--space-4);

    // Smooth transitions
    transition: width var(--duration-comfortable) var(--easing-standard);
  }

  // Brand/Logo Section
  .sidebar__brand {
    width: 100%;
    margin-bottom: var(--space-8);
  }

  .sidebar__logo {
    width: 48px;
    height: 48px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    background: color-mix(in srgb, var(--color-on-primary), transparent calc(100% - var(--opacity-glass-light) * 100%));
    border-radius: var(--radius-m);
    color: var(--color-on-primary);
    backdrop-filter: #{'blur(var(--blur-m))'};

    svg {
      width: 24px;
      height: 24px;
    }
  }

  // Navigation
  .sidebar__nav {
    flex: 1;
    width: 100%;
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .sidebar__nav-item {
    width: 100%;
  }

  .sidebar__link {
    // Layout
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: var(--scale-14); // 56px
    border-radius: var(--radius-2xl);

    // Visual
    color: color-mix(in srgb, var(--color-on-primary), transparent calc(100% - var(--opacity-muted) * 100%));
    background: transparent;
    text-decoration: none;

    // Interaction
    cursor: pointer;
    transition: all var(--duration-fast) var(--easing-standard);

    // Hover state
    &:hover {
      background: color-mix(in srgb, var(--color-on-primary), transparent calc(100% - var(--opacity-hover) * 100%));
      color: var(--color-on-primary);
      transform: translateX(2px);
    }

    // Active state - Pill shape
    &--active {
      background: color-mix(in srgb, var(--color-on-primary), transparent calc(100% - var(--opacity-active) * 100%));
      color: var(--color-on-primary);

      &::before {
        content: '';
        position: absolute;
        left: calc(var(--scale-3) * -1);
        width: var(--scale-1);
        height: var(--scale-8);
        background: var(--color-on-primary);
        border-radius: var(--radius-full);
      }
    }

    // Focus state
    &:focus-visible {
      outline: var(--focus-width) solid color-mix(in srgb, var(--color-on-primary), transparent calc(100% - var(--opacity-backdrop) * 100%));
      outline-offset: var(--focus-offset);
    }
  }

  .sidebar__icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: var(--icon-size-m);
    height: var(--icon-size-m);

    svg {
      width: 100%;
      height: 100%;
      stroke-width: 2;
    }
  }

  // Notification Badge
  .sidebar__badge {
    position: absolute;
    top: var(--space-2);
    right: var(--space-2);
    min-width: var(--scale-5);
    height: var(--scale-5);
    padding: 0 var(--space-1);
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-error);
    color: var(--color-on-error);
    border-radius: var(--radius-full);
    font-size: var(--font-size-caption-s);
    font-weight: var(--font-weight-bold);
    line-height: 1;
    box-shadow: 0 var(--scale-0-5) var(--scale-1) color-mix(in srgb, black, transparent calc(100% - var(--opacity-active) * 100%));
  }

  // Profile Section
  .sidebar__profile {
    width: 100%;
    padding-top: var(--space-6);
    border-top: var(--border-width-xs) solid color-mix(in srgb, var(--color-on-primary), transparent calc(100% - var(--opacity-ghost) * 100%));
    margin-top: auto;
  }

  .sidebar__profile-btn {
    width: 100%;
    padding: 0;
    border: none;
    background: transparent;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform var(--duration-fast) var(--easing-standard);

    &:hover {
      transform: scale(1.05);
    }

    &:focus-visible {
      outline: var(--focus-width) solid color-mix(in srgb, var(--color-on-primary), transparent calc(100% - var(--opacity-backdrop) * 100%));
      outline-offset: var(--focus-offset);
      border-radius: var(--radius-full);
    }
  }

  .sidebar__avatar {
    width: var(--scale-12);
    height: var(--scale-12);
    border-radius: var(--radius-full);
    background: color-mix(in srgb, var(--color-on-primary), transparent calc(100% - var(--opacity-active) * 100%));
    backdrop-filter: #{'blur(var(--blur-m))'};
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-on-primary);
    border: var(--border-width-xs) solid color-mix(in srgb, var(--color-on-primary), transparent calc(100% - var(--opacity-overlay-light) * 100%));

    svg {
      width: var(--icon-size-m);
      height: var(--icon-size-m);
    }
  }

  // Responsive Design
  @media (max-width: 768px) {
    .sidebar {
      // Convert to bottom navigation on mobile
      left: 0;
      right: 0;
      top: auto;
      bottom: 0;
      width: 100%;
      height: var(--scale-18); // 72px
      flex-direction: row;
      padding: var(--space-2) var(--space-4);

      // Update gradient direction
      background: linear-gradient(90deg,
          var(--color-primary-500) 0%,
          var(--color-primary-700) 100%);
    }

    .sidebar__brand {
      display: none; // Hide on mobile
    }

    .sidebar__nav {
      flex-direction: row;
      justify-content: space-around;
      align-items: center;
    }

    .sidebar__link {
      width: var(--scale-12);
      height: var(--scale-12);

      &--active::before {
        left: 50%;
        top: calc(var(--space-2) * -1);
        transform: translateX(-50%);
        width: var(--scale-8);
        height: var(--scale-0-75);
      }
    }

    .sidebar__profile {
      border-top: none;
      border-left: var(--border-width-xs) solid color-mix(in srgb, var(--color-on-primary), transparent calc(100% - var(--opacity-ghost) * 100%));
      padding-top: 0;
      padding-left: var(--space-4);
      margin-top: 0;
      margin-left: var(--space-4);
    }

    .sidebar__avatar {
      width: var(--scale-10);
      height: var(--scale-10);
    }
  }

  // Accessibility - Reduced motion
  @media (prefers-reduced-motion: reduce) {

    .sidebar,
    .sidebar__link,
    .sidebar__profile-btn {
      transition: none;
    }
  }
}