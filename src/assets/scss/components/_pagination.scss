@use '../abstracts' as *;

/* ==========================================================================*/
/*                          PAGINATION COMPONENT (MOBILE-FIRST)             */
/* ==========================================================================*/

.pagination {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-top: var(--spacing-m);
    gap: var(--spacing-m);

    // Mobile: stack vertically
    @include bp-down(s) {
        flex-direction: column;
        gap: var(--spacing-base);
    }

    // Pagination counter (showing X-Y of Z items)
    &__counter {
        color: var(--color-neutral-7);
        font-size: var(--font-size-9xs);

        @include bp-down(s) {
            font-size: var(--font-size-9xs);
            order: 2; // Show below buttons on mobile
        }
    }

    // Container for all buttons
    &__container {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--spacing-xs);
        flex-wrap: wrap;

        @include bp-down(s) {
            order: 1;
        }
    }

    // Individual pagination button
    &__button {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: var(--scale-8); // 32px
        height: var(--scale-8);
        padding: 0 var(--spacing-s);
        background-color: var(--color-neutral-0);
        border: var(--border-width-1) solid var(--color-neutral-4);
        border-radius: var(--border-radius-soft);
        color: var(--color-neutral-8);
        font-size: var(--font-size-9xs);
        cursor: pointer;
        transition: all 0.2s ease;
        user-select: none;

        // Tablet & Mobile: larger touch targets
        @include bp-down(m) {
            min-width: var(--scale-10); // 40px
            height: var(--scale-10);
        }

        // Mobile: even larger
        @include bp-down(s) {
            font-size: var(--font-size-9xs);
        }

        // Hover state (desktop only)
        @include bp-up(m) {
            &:hover:not(:disabled):not(&--active):not(&--ellipsis) {
                background-color: var(--color-neutral-2);
                border-color: var(--color-neutral-5);
            }
        }

        // Active page
        &--active {
            background-color: var(--color-primary);
            border-color: var(--color-primary);
            color: var(--color-neutral-0);
            font-weight: 600;
            cursor: default;
            pointer-events: none;
        }

        // Ellipsis button (non-clickable)
        &--ellipsis {
            background-color: transparent;
            border: 0;
            cursor: default;
            pointer-events: none;
            min-width: var(--scale-4); // 16px
            width: var(--scale-4);
            color: var(--color-neutral-6);
        }

        // Disabled state
        &:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }

        // Active (click) state
        &:active:not(:disabled):not(&--active) {
            transform: scale(0.95);
        }

        // Focus state (accessibility)
        &:focus-visible {
            outline: var(--border-width-xs) solid var(--color-primary);
            outline-offset: var(--border-width-xs);
            border-color: var(--color-primary);
        }

        // Icon sizing
        svg {
            flex-shrink: 0;
        }
    }

    // Page input (optional "Go to page X" feature)
    &__input {
        display: flex;
        align-items: center;
        gap: var(--spacing-s);
        margin-left: var(--spacing-m);
        font-size: var(--font-size-9xs);
        color: var(--color-neutral-7);

        @include bp-down(s) {
            margin-left: 0;
            margin-top: var(--spacing-s);
            font-size: var(--font-size-9xs);
        }
    }

    &__input-field {
        width: var(--scale-8); // 32px
        height: var(--scale-8);
        padding: 0;
        text-align: center;
        border: var(--border-width-1) solid var(--color-neutral-4);
        border-radius: var(--border-radius-soft);
        font-size: var(--font-size-9xs);
        color: var(--color-neutral-8);
        background-color: var(--color-neutral-0);
        transition: border-color 0.2s ease;

        @include bp-down(m) {
            width: var(--scale-10); // 40px
            height: var(--scale-10);
        }

        &:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.1);
        }

        // Remove number input arrows
        &::-webkit-inner-spin-button,
        &::-webkit-outer-spin-button {
            appearance: none;
            margin: 0;
        }
    }
}

// RTL support
.is-rtl {
    .pagination {
        &__button {
            svg {
                transform: rotate(180deg);
            }

            &--active svg,
            &--ellipsis svg {
                transform: none;
            }
        }

        &__input {
            margin-left: 0;
            margin-right: var(--spacing-m);

            @include bp-down(s) {
                margin-right: 0;
            }
        }
    }
}

// High contrast mode support
.os-high-contrast {
    .pagination {
        &__button--active {
            outline: var(--border-width-m) solid var(--color-focus-outer);
        }
    }
}
