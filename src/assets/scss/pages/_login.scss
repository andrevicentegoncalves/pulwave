@use '../abstracts' as *;

/* ==========================================================================*/
/*                                PAGES: LOGIN                               */
/* ==========================================================================*/

.auth-page {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--color-primary);
  padding: var(--space-m); // Using semantic token
  
  background-image: 
    linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-active) 100%);
}

.auth-container {
  width: 100%;
  max-width: 480px;
  background-color: var(--color-surface-default);
  border-radius: var(--radius-l);
  box-shadow: var(--shadow-l);
  padding: var(--space-xl);
  
  @media (max-width: 640px) {
    padding: var(--space-l);
    border-radius: var(--radius-m);
  }
}

.auth-header {
  text-align: center;
  margin-bottom: var(--space-l);
  
  h2 {
    font-size: var(--font-size-heading-l);
    font-weight: var(--font-weight-bold);
    color: var(--color-on-surface-default);
    margin: 0;
    line-height: var(--line-height-heading);
  }
}

.auth-form {
  display: flex;
  flex-direction: column;
  gap: var(--space-m);
}

.form-field {
  display: flex;
  flex-direction: column;
  gap: var(--space-s);
  
  label {
    font-size: var(--font-size-body-s);
    font-weight: var(--font-weight-medium);
    color: var(--color-on-surface-strong);
    
    &.sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }
  }
  
  input {
    width: 100%;
    padding: var(--space-s) var(--space-base);
    font-size: var(--font-size-body-m);
    line-height: var(--line-height-body);
    color: var(--color-on-surface-default);
    background-color: var(--color-surface-default);
    border: var(--border-width-1) solid var(--border-default);
    border-radius: var(--radius-s);
    transition: all var(--duration-base) var(--easing-standard);
    
    &::placeholder {
      color: var(--color-on-surface-subtle);
    }
    
    &:hover:not(:disabled) {
      border-color: var(--border-hover);
    }
    
    &:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px var(--color-primary-subtle);
    }
    
    &:disabled {
      background-color: var(--color-surface-disabled);
      color: var(--color-on-surface-disabled);
      cursor: not-allowed;
    }
    
    &:first-of-type:not(:only-of-type) {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }
    
    &:last-of-type:not(:only-of-type) {
      border-top-left-radius: 0;
      border-top-right-radius: 0;
      margin-top: -1px;
    }
    
    &:not(:first-of-type):not(:last-of-type) {
      border-radius: 0;
      margin-top: -1px;
    }
  }
}

.input-group {
  display: flex;
  flex-direction: column;
  
  input {
    position: relative;
    z-index: 1;
    
    &:focus {
      z-index: 2;
    }
  }
}

.auth-alert {
  padding: var(--space-base);
  border-radius: var(--radius-s);
  display: flex;
  align-items: flex-start;
  gap: var(--space-s);
  font-size: var(--font-size-body-s);
  line-height: var(--line-height-body);
  
  svg {
    flex-shrink: 0;
    width: var(--icon-size-s);
    height: var(--icon-size-s);
  }
  
  &--error {
    background-color: var(--color-feedback-error-subtle);
    color: var(--color-feedback-error);
    
    svg {
      color: var(--color-feedback-error);
    }
  }
  
  &--success {
    background-color: var(--color-feedback-success-subtle);
    color: var(--color-feedback-success);
    
    svg {
      color: var(--color-feedback-success);
    }
  }
}

.auth-submit {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-s);
  padding: var(--space-s) var(--space-m);
  font-size: var(--font-size-body-m);
  font-weight: var(--font-weight-medium);
  color: var(--color-on-primary);
  background-color: var(--color-primary);
  border: none;
  border-radius: var(--radius-s);
  cursor: pointer;
  transition: all var(--duration-base) var(--easing-standard);
  
  &:hover:not(:disabled) {
    background-color: var(--color-primary-hover);
    transform: translateY(-1px);
    box-shadow: var(--shadow-s);
  }
  
  &:active:not(:disabled) {
    background-color: var(--color-primary-pressed);
    transform: translateY(0);
    box-shadow: none;
  }
  
  &:focus-visible {
    outline: var(--focus-width) solid var(--color-focus-ring);
    outline-offset: var(--focus-offset);
  }
  
  &:disabled {
    background-color: var(--color-primary-disabled);
    cursor: not-allowed;
    opacity: 0.5;
  }
  
  .spinner {
    width: var(--icon-size-s);
    height: var(--icon-size-s);
    animation: spin var(--duration-comfortable) linear infinite;
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.auth-divider {
  position: relative;
  margin: var(--space-m) 0;
  text-align: center;
  
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 1px;
    background-color: var(--border-default);
  }
  
  span {
    position: relative;
    display: inline-block;
    padding: 0 var(--space-s);
    background-color: var(--color-surface-default);
    color: var(--color-on-surface-subtle);
    font-size: var(--font-size-body-s);
  }
}

.auth-oauth-button {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-s);
  padding: var(--space-s) var(--space-m);
  font-size: var(--font-size-body-m);
  font-weight: var(--font-weight-medium);
  color: var(--color-on-surface-default);
  background-color: var(--color-surface-default);
  border: var(--border-width-1) solid var(--border-default);
  border-radius: var(--radius-s);
  cursor: pointer;
  transition: all var(--duration-base) var(--easing-standard);
  
  svg {
    width: var(--icon-size-m);
    height: var(--icon-size-m);
  }
  
  &:hover:not(:disabled) {
    background-color: var(--color-surface-hover);
    border-color: var(--border-hover);
  }
  
  &:active:not(:disabled) {
    background-color: var(--color-surface-pressed);
  }
  
  &:focus-visible {
    outline: var(--focus-width) solid var(--color-focus-ring);
    outline-offset: var(--focus-offset);
  }
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

.auth-toggle {
  text-align: center;
  margin-top: var(--space-m);
  
  button {
    background: none;
    border: none;
    color: var(--color-primary);
    font-size: var(--font-size-body-s);
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    text-decoration: none;
    transition: color var(--duration-base) var(--easing-standard);
    padding: var(--space-s);
    
    &:hover:not(:disabled) {
      color: var(--color-primary-hover);
      text-decoration: underline;
    }
    
    &:focus-visible {
      outline: var(--focus-width) solid var(--color-focus-ring);
      outline-offset: var(--focus-offset);
      border-radius: var(--radius-xs);
    }
    
    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
  }
}

.auth-debug {
  margin-top: var(--space-m);
  padding: var(--space-base);
  background-color: var(--color-neutral-100);
  border-radius: var(--radius-s);
  font-size: var(--font-size-body-xs);
  font-family: monospace;
  
  p {
    margin: var(--space-xs) 0;
    color: var(--color-on-surface-subtle);
    
    strong {
      color: var(--color-on-surface-default);
    }
  }
}